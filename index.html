<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Create Your Title Tags</title>
</head>
<body>
	<h1>Create Title Tags</h1>

	<ul>
		<li>Property Type: 
			<select id="property-type">
				<option value="Apartments">Apartments</option>
				<option value="Townhomes">Townhomes</option>
			</select>
		</li>
		<li>Property Name: <input type="text" id="property-name"></li>
		<li>City: <input type="text" id="city"></li>
		<li>State: <input type="text" id="state"></li>
		<li>Zip Code: <input type="text" id="zip-code"></li>
		<li>Max Title Length: <input type="number" id="title-length"></li>
	</ul>

	<button id="tag-button">Generate Title Tag</button>

	<p><b>Homepage:</b> 
	<span id="title-0"></span></p>
	<p><b>Gallery:</b> 
	<span id="title-1"></span></p>
	<p><b>Amenities:</b> 
	<span id="title-2"></span></p>
	<p><b>Floor Plans:</b> 
	<span id="title-3"></span></p>
	<p><b>Neighborhood:</b> 
	<span id="title-4"></span></p>
	<p><b>Contact:</b> 
	<span id="title-5"></span></p>
	<p><b>Schedule a Tour:</b> 
	<span id="title-6"></span></p>
	<p><b>Apply Online:</b> 
	<span id="title-7"></span></p>
	<p><b>Virtual Tours:</b> 
	<span id="title-8"></span></p>
	<p><b>Pet Friendly:</b> 
	<span id="title-9"></span></p>
	<p><b>Directions:</b> 
	<span id="title-10"></span></p>
	<p><b>FAQ:</b> 
	<span id="title-11"></span></p>
	<p><b>Availability:</b> 
	<span id="title-12"></span></p>
	<p><b>Reviews:</b> 
	<span id="title-13"></span></p>
	<p><b>Resident Portal:</b> 
	<span id="title-14"></span></p>
	<p><b>Reset Password:</b> 
	<span id="title-15"></span></p>
	<p><b>Find UserID:</b> 
	<span id="title-16"></span></p>
	<p><b>Privacy Policy:</b> 
	<span id="title-17"></span></p>
	<p><b>Accessibility Statement:</b> 
	<span id="title-18"></span><br /><br />
	<span id="title-19"></span></p>
	<p><b>Terms:</b> 
	<span id="title-20"></span></p>
	<p><b>CA Privacy Notice:</b> 
	<span id="title-21"></span></p>
	<p><b>Virtual Leasing:</b> 
	<span id="title-22"></span></p>
	<p><b>COVID-19 FAQ:</b> 
	<span id="title-23"></span></p>
	<script>


		let tagButton = document.getElementById('tag-button');
		let selectType = document.getElementById('property-type');

		window.addEventListener('load',generateTag);
		selectType.addEventListener('change',generateTag);


		function generateTag() {

			let propertyType = selectType.value;


			const titleEnds = [` ${propertyType} | ${propertyType} for rent in `, ` | ${propertyType} for rent in `, ` | ${propertyType} in `, ` ${propertyType} in `, ` ${propertyType} `];

			const pageTypes = ["", "Photos", "Amenities", "Floor Plans", "Neighborhood", "Contact", "Schedule a Tour", "Apply Online", "Virtual Tours", "Pet Friendly", "Directions", "FAQ", "Availability", "Reviews", "Resident Portal", "Reset Password", "Find UserID", "Privacy Policy", "Accessibility Statement", "Accessibility", "Terms", "CA Privacy Notice", "Virtual Leasing", "COVID-19 FAQ"];


			for (let k = 0; k < pageTypes.length; k++) {

				let createTag = function() {

					for (let i = 0; i < titleEnds.length; i++) {

						let titleDiv = document.getElementById(`title-${k}`);
						let propertyName = document.getElementById('property-name').value; 
						let city = document.getElementById('city').value; 
						let state = document.getElementById('state').value;
						let zipCode = document.getElementById('zip-code').value;
						let titleLength = document.getElementById('title-length').value;
						let bar
						if (k === 0) {
							bar = "";
						} else {
							bar = " | ";
						};

						let pageTitle = pageTypes[k].concat(bar, propertyName, titleEnds[i], city, ', ', state, ', ', zipCode);

						if (pageTitle.length <= titleLength) { 
							titleDiv.innerHTML = pageTitle;
							break;
						} else {

							let pageTitle = pageTypes[k].concat(bar, propertyName, titleEnds[i], city, ', ', state);

							if (pageTitle.length <= titleLength) {
								titleDiv.innerHTML = pageTitle;
								break;
							} else if (i === titleEnds.length - 1) {
								titleDiv.innerHTML = "ERROR: inputs too long to create title shorter than max title length.";
								break;
							};
						};
					};
				};
			tagButton.addEventListener('click',createTag);
			};
		};

		</script>
	</body>
	</html>
