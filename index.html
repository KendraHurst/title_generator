<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Create Your Title Tag</title>
	<link rel="icon" href="/favicon.ico">
	<link rel="stylesheet" href="css/styles.css">
</head>
<body>
	<h1>Create a Title Tag</h1>

	<ul>
		<li>Property Type: 
			<select id="property-type">
				<option value="Apartments">Apartments</option>
				<option value="Townhomes">Townhomes</option>
			</select>
		</li>
		<li>Property Name: <input type="text" id="property-name"></li>
		<li>City: <input type="text" id="city"></li>
		<li>State: <input type="text" id="state"></li>
		<li>Zip Code: <input type="text" id="zip-code"></li>
		<li>Max Title Length: <input type="number" id="title-length" min="50" max="75"></li>
	</ul>

	<button id="tag-button">Generate Title Tag</button>

	<p>Homepage: 
	<span id="homepage-title"></span></p>
	<p>Gallery: 
	<span id="gallery-title"></span></p>
	<p>Amenities: 
	<span id="amenities-title"></span></p>
	<script>

		let tagButton = document.getElementById('tag-button');
		let propertyType = document.getElementById('property-type').value;

			const titleEnds = [` ${propertyType} | ${propertyType} for rent in `, ` | ${propertyType} for rent in `, ` | ${propertyType} in `, ` ${propertyType} in `, ` ${propertyType} `];
			let homepageTag = function() {
				for (let i = 0; i <= titleEnds.length; i++) {
					let homepageDiv = document.getElementById('homepage-title');
					let propertyName = document.getElementById('property-name').value; 
					let city = document.getElementById('city').value; 
					let state = document.getElementById('state').value;
					let zipCode = document.getElementById('zip-code').value;
					let titleLength = document.getElementById('title-length').value;
					let homepageTitle = propertyName.concat(titleEnds[i],city,', ',state,', ',zipCode);
					if (homepageTitle.length <= titleLength) { 
						homepageDiv.innerHTML = homepageTitle;
						break;
					}
				 	else {
						let homepageTitle = propertyName.concat(titleEnds[i],city,', ',state);
						if (homepageTitle.length <= titleLength) {
							homepageDiv.innerHTML = homepageTitle;
							break;
						}
						else if (i === titleEnds.length) {
							homepageDiv.innerHTML = "ERROR: inputs too long to create title shorter than max title length.";
							break;
						};
					};
				};
			};
			tagButton.addEventListener('click',homepageTag);

		</script>
	</body>
	</html>
